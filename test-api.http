### Claude Code UI API Testing
### Backend API Server (Port 12002)

@baseUrl = http://localhost:12002/claude
@token = your-auth-token-here

### Health Check / Server Status
GET {{baseUrl}}/api/health
Content-Type: application/json

###

### Authentication - Check Status
GET {{baseUrl}}/api/auth/status
Content-Type: application/json

###

### Authentication - Login
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "username": "swinging",
  "password": "dng1rGDk2t"
}

###

### Authentication - Register (if needed)
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
  "username": "testuser",
  "password": "testpass"
}

###

### Get User Info (requires auth)
GET {{baseUrl}}/api/auth/user
Content-Type: application/json
Authorization: Bearer {{token}}

###

### Get Server Config (requires auth)
GET {{baseUrl}}/api/config
Content-Type: application/json
Authorization: Bearer {{token}}

###

### Get Projects (requires auth)
GET {{baseUrl}}/api/projects
Content-Type: application/json
Authorization: Bearer {{token}}

###

### Create Project (requires auth)
POST {{baseUrl}}/api/projects/create
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "path": "/path/to/your/project"
}

###

### Get Project Files (requires auth)
GET {{baseUrl}}/api/projects/your-project-name/files
Content-Type: application/json
Authorization: Bearer {{token}}

###

### Read Project File (requires auth)
GET {{baseUrl}}/api/projects/your-project-name/file?filePath=README.md
Content-Type: application/json
Authorization: Bearer {{token}}

###

### Git Status (requires auth)
GET {{baseUrl}}/api/git/status?project=your-project-name
Content-Type: application/json
Authorization: Bearer {{token}}

###

### Git Branches (requires auth)
GET {{baseUrl}}/api/git/branches?project=your-project-name
Content-Type: application/json
Authorization: Bearer {{token}}

###

### MCP CLI List (requires auth)
GET {{baseUrl}}/api/mcp/cli/list
Content-Type: application/json
Authorization: Bearer {{token}}

###

### MCP Servers (requires auth)
GET {{baseUrl}}/api/mcp/servers?scope=user
Content-Type: application/json
Authorization: Bearer {{token}}

###

### Test Audio Transcription (requires auth)
# Note: This requires a multipart form with audio file
POST {{baseUrl}}/api/transcribe
Authorization: Bearer {{token}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="audio"; filename="test.wav"
Content-Type: audio/wav

< ./test-audio.wav
------WebKitFormBoundary7MA4YWxkTrZu0gW--

###

### WebSocket Connection Test
# Note: This is for reference - use a WebSocket client to test
# ws://localhost:3008/ws?token={{token}}

###

### Test with BASE_PATH (if configured)
# If BASE_PATH is set to /claude/, test these endpoints:

### Health Check with BASE_PATH
GET {{baseUrl}}/claude/api/health
Content-Type: application/json

###

### Auth Status with BASE_PATH
GET {{baseUrl}}/claude/api/auth/status
Content-Type: application/json

###

### Login with BASE_PATH
POST {{baseUrl}}/claude/api/auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "admin"
}
